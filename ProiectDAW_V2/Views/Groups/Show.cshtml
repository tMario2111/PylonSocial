<div class="d-flex flex-row align-items-center justify-content-end mb-3 gap-2">
    @if (ViewBag.IsModerator)
    {
        <a class="btn btn-primary h-25" asp-controller="GroupJoinRequests" asp-action="Show"
           asp-route-groupId="@ViewBag.Group.Id">
            @ViewBag.JoinRequestCount new join requests
        </a>
        <a class="btn btn-primary h-25" asp-controller="Groups" asp-action="ManageMembers"
           asp-route-groupId="@ViewBag.Group.Id">
            Manage members
        </a>
    }
    @if (ViewBag.IsModerator || ViewBag.IsAdmin)
    {
        <form asp-controller="Groups" asp-action="Delete" asp-route-groupId="@ViewBag.Group.Id">
            <button class="btn btn-danger h25" type="submit">Delete group</button>
        </form>
    }
</div>

<div class="d-flex flex-row justify-content-center align-items-start gap-3">
    <div class="d-flex flex-column justify-content-center align-items-center">
        <h3>@ViewBag.Group.Name</h3>
        <h5 style="color: grey;">@ViewBag.Group.Description</h5>
        <h6>@ViewBag.MemberCount members</h6>
    </div>
    @if (ViewBag.IsMember && !ViewBag.IsModerator)
    {
        <form asp-controller="Groups" asp-action="Leave" asp-route-groupId="@ViewBag.Group.Id">
            <button class="btn btn-danger" type="submit">Leave</button>
        </form>
    }
</div>

@if (!ViewBag.IsMember)
{
    <div class="d-flex flex-column justify-content-center align-items-center">
        <h5 class="mt-5 mb-3" style="text-align: center">You must join the group to see posts</h5>
        @if (ViewBag.PendingRequest)
        {
            <form asp-controller="GroupJoinRequests" asp-action="Delete" asp-route-groupId="@ViewBag.Group.Id">
                <button class="btn btn-primary" type="submit">Cancel join request</button>
            </form>
        }
        else
        {
            <form asp-controller="GroupJoinRequests" asp-action="New" asp-route-groupId="@ViewBag.Group.Id">
                <button class="btn btn-primary" type="submit">Request join</button>
            </form>
        }
    </div>
}